{% extends "auth-base.html.jinja" %}

{% block title %}Login - Sherpa Labs{% endblock %}

{% block subtitle %}Sign in to continue{% endblock %}

{% block messages %}
    {% if error != "" %}
    <div class="bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm">
        {% if error == "session_required" %}
        Please sign in to continue
        {% elif error == "session_expired" %}
        Your session has expired. Please sign in again.
        {% elif error == "logout_success" %}
        You have been logged out successfully
        {% else %}
        {{ error }}
        {% endif %}
    </div>
    {% endif %}
    {% if message != "" %}
    <div class="bg-blue-50 border border-blue-200 text-blue-700 px-4 py-3 rounded-lg text-sm">
        {{ message }}
    </div>
    {% endif %}
{% endblock %}

{% block content %}
    <!-- Login Form -->
    <form hx-post="/login" 
          hx-target="#auth-message" 
          hx-swap="innerHTML"
          class="space-y-4">
        
        <!-- Username Field -->
        <div>
            <label for="username" class="block text-sm font-medium text-gray-700 mb-1">
                Username
            </label>
            <input 
                type="text" 
                id="username" 
                name="username" 
                required 
                autocomplete="username"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="Enter your username"
            >
        </div>

        <!-- Password Field -->
        <div>
            <label for="password" class="block text-sm font-medium text-gray-700 mb-1">
                Password
            </label>
            <input 
                type="password" 
                id="password" 
                name="password" 
                required 
                autocomplete="current-password"
                class="w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"
                placeholder="Enter your password"
            >
        </div>

        <!-- Remember Me Checkbox -->
        <div class="flex items-center">
            <input 
                type="checkbox" 
                id="remember_me" 
                name="remember_me" 
                value="true"
                class="h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"
            >
            <label for="remember_me" class="ml-2 block text-sm text-gray-700">
                Remember me for 30 days
            </label>
        </div>

        <!-- Submit Button -->
        <button 
            type="submit" 
            class="w-full bg-blue-600 hover:bg-blue-700 text-white font-medium py-2 px-4 rounded-lg transition-colors"
        >
            Sign In
        </button>
    </form>
{% endblock %}

{% block footer_links %}
    Don't have an account? 
    <a href="/signup" class="text-blue-600 hover:text-blue-700 font-medium">Sign up</a>
{% endblock %}
